<!DOCTYPE HTML>
<html>

<head>
    <title>Sample Application - callback endpoint</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    <div>
        <a th:href="@{/}">back</a>
        <hr />
        <div th:if="${error != null}">
            <div role="alert">
                <span th:text="${error}"></span>
                <p th:text="${errorDescription}"></p>
            </div>
        </div>
        <div th:if="${error == null}">
            <p>Tokens</p>
            <div>
                <p>AccessToken</p>
                <pre th:text="${@clientSession?.getAccessToken()?.tokenString}">
                </pre>
            </div>
            <div>
                <p>RefreshToken</p>
                <pre th:text="${@clientSession?.getRefreshToken()?.tokenString}"></pre>
            </div>
            <div th:if="${@clientSession?.getIdToken() != null}">
                <p>IDToken</p>
                <pre th:text="${@clientSession?.getIdToken()?.tokenString}"></pre>
            </div>
        </div>
        <div th:if="${error == null}">
            <p>Decoded Tokens</p>
            <div>
                <p>Access Token</p>
                <pre th:text="${@clientSession?.getAccessToken()?.getPayloadJSON()}"></pre>
            </div>
            <div>
                <p>Refresh Token</p>
                <pre th:text="${@clientSession?.getRefreshToken()?.getPayloadJSON()}"></pre>
            </div>
            <div th:if="${@clientSession?.getIdToken() != null}">
                <p>IDToken</p>
                <pre th:text="${@clientSession?.getIdToken()?.getPayloadJSON()}"></pre>
            </div>
        </div>
    </div>
</body>

</html>